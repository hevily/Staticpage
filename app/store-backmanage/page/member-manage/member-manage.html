<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <link rel="stylesheet" type="text/css" href="../../css/normalize.min.css">
    <link rel="stylesheet" type="text/css" href="../../css/animate.min.css">
    <link rel="stylesheet" type="text/css" href="../../css/member-manage.css">
	<title>会员管理</title>
</head>
<body>
	<header></header>
	<div class="container">
		<div class="section animated noneCard ">
			<div class="media">
				<div class="media-body media-middle">等级设置</div>
				<div class="media-right media-middle ">
					<div class="setmemCard apply-way">
						<span>马上设置<img src="https://shop.yshjie.com/statichtml/bjmovie01/estores/Public/member/img/for-more.png" alt="" class=""></span>
					</div>
				</div>
			</div>
			<p>温馨提示：你的会员等级尚未设置，暂无法使用相关功能，请立即设置会员等级。</p>
		</div>
		
		<div class="section animated has-Member  slideInLeft">
			<div class="animated member-btn bounceInDown">
				<a href="javascript:;" class="btn btn-theme new-member">新增会员</a>
				<a href="javascript:;" class="btn btn-space apply-log">审核记录</a>
				<!-- <a href="javascript:;" class="btn btn-theme apply-log">修改会员信息</a> -->
			</div>

			<ul class="member-list media-list">
				<li class="media single-member">
					<div class="media-body media-middle">
						<div class="applyer">
							<h4>姓名四字</h4>
							<p>2017-3-16 14:48</p>
						</div>

					</div>
					<div class="media-right media-middle">
						<div class="apply-way">
							<span>后台添加<img src="https://shop.yshjie.com/statichtml/bjmovie01/estores/Public/member/img/for-more.png" alt="" class=""></span>
						</div>
					</div>
				</li>
				<li class="media single-member">
					<div class="media-body media-middle">
						<div class="applyer">
							<h4>姓名四字</h4>
							<p>2017-3-16 14:48</p>
						</div>

					</div>
					<div class="media-right media-middle">
						<div class="apply-way">
							<span>個人申請<img src="https://shop.yshjie.com/statichtml/bjmovie01/estores/Public/member/img/for-more.png" alt="" class=""></span>
						</div>
					</div>
				</li>
				<li class="media single-member">
					<div class="media-body media-middle">
						<div class="applyer">
							<h4>姓名四字</h4>
							<p>2017-3-16 14:48</p>
						</div>

					</div>
					<div class="media-right media-middle">
						<div class="apply-way">
							<span>個人申請<img src="https://shop.yshjie.com/statichtml/bjmovie01/estores/Public/member/img/for-more.png" alt="" class=""></span>
						</div>
					</div>
				</li>
				<li class="media single-member">
					<div class="media-body media-middle">
						<div class="applyer">
							<h4>姓名四字</h4>
							<p>2017-3-16 14:48</p>
						</div>

					</div>
					<div class="media-right media-middle">
						<div class="apply-way">
							<span>個人申請<img src="https://shop.yshjie.com/statichtml/bjmovie01/estores/Public/member/img/for-more.png" alt="" class=""></span>
						</div>
					</div>
				</li>
			</ul>
		</div>

		<div class="section animated add-newmember">
			<div class="animated member-btn bounceInDown">
				<a href="javascript:;" class="btn btn-space ">取消</a>
				<a href="javascript:;" class="btn btn-theme pull-right">保存</a>
			</div>
			<div class="member-input">
				<ul>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								会员头像
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<img src="../../img/member-manage/member-logo.png" class="member-logo">
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								全名
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<input type="text" name="username">
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								姓
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<input type="text" name="username">
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								名
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<input type="text" name="username">
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								性别
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<input type="text" name="username">
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								出生日期
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<input type="text" name="username">
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								身份证
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<input type="text" name="username">
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								邮箱
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<input type="text" name="username">
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								手机号
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<input type="text" name="username">
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								地址
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<input type="text" name="username">
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								提交日期
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<input type="date" name="username">
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>


		<div class="section animated member-info">
			<div class="member-btn ">
				<a href="javascript:;" class="btn btn-theme pass-apply">审核通过</a>
				<a href="javascript:;" class="btn btn-space pass-decline">拒绝</a>
				<a href="javascript:;" class="btn btn-theme ">修改会员信息</a>
			</div>
			<div class="member-input animated slideInLeft">
				<ul>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								会员头像
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<img src="../../img/member-manage/member-logo.png" class="member-logo">
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								全名
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<span>王铁锤</span>
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								姓
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<span>王铁锤</span>
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								名
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<span>王铁锤</span>
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								性别
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<span>王铁锤</span>
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								出生日期
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<span>王铁锤</span>
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								身份证
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<span>王铁锤</span>
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								邮箱
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<span>王铁锤</span>
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								手机号
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<span>王铁锤</span>
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								地址
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<span>王铁锤</span>
							</div>
						</div>
					</li>
					<li class="media">
						<div class="media-left media-middle">
							<div class="input-label">
								提交日期
							</div>
						</div>
						<div class="media-body media-middle">
							<div class="input-text">
								<span>王铁锤</span>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>
		<div class="section animated add-newmember-card slideInLeft">
			<div class="member-card-info animated">
				<div class="animated member-btn">
					<a href="javascript:;" class="btn btn-space member-card-sign-cacel">取消</a>
					<a href="javascript:;" class="btn btn-theme pull-right member-card-sign-save">保存</a>
				</div>
				<div class="member-card-number ">
					<p>会员编号<span class="label-mark">*</span></p>
					<input type="text" name="member-card-number" placeholder="会员编号不能重复">
				</div>
				<div class="member-card-mark">
					<p>备注<span class="dark-color">(选填)</span></p>
					<textarea placeholder="仅商家可见"></textarea>
				</div>
				<div class="member-card-level-select">
					<p class="member-card-level-label">会员等级<span class="dark-color">(可多选)</span><span class="label-mark">*</span></p>
					<div class="card-level-silver card-level">
						<div class="media">
							<div class="media-left media-middle">
								<div class="card-level-label">银牌会员</div>
							</div>
							<div class="media-body">
								<div class="card-level-select">
									<p><span class="unselect">未设置</span>
									</p>
								</div>
							</div>
							<div class="media-right media-middle">
								<img src="https://shop.yshjie.com/statichtml/bjmovie01/estores/Public/member/img/for-more.png" alt="" class="">
							</div>
						</div>

						
					</div>
					<div class="card-level-normal card-level">
						<div class="media">
							<div class="media-left media-middle">
								<div class="card-level-label">普通会员</div>
							</div>
							<div class="media-body">
								<div class="card-level-select">
									<p><span class="unselect">未设置</span>
									</p>
								</div>
							</div>
							<div class="media-right media-middle">
								<img src="https://shop.yshjie.com/statichtml/bjmovie01/estores/Public/member/img/for-more.png" alt="" class="">
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="member-card-level section">
				<div class="member-btn">
					<a href="javascript:;" class="btn btn-space member-card-level-cancel">取消</a>
					<a href="javascript:;" class="btn btn-theme pull-right member-card-level-save">保存</a>
				</div>
				<div class=" member-card-time-num animated slideInLeft">
					<p class="member-card-title">会员卡等级：<span class="card-sign">银牌会员</span></p>
					<div class="member-card-time">
						<div class="media">
							<div class="media-left media-middle"><div class="time-num-label">有效期：</div></div>
							<div class="media-body">
								<input type="date" name="member-card-starttime" value="<%=date()%>" placeholder="请选择有效日期">
								<p>至</p>
								<input type="date" name="member-card-endtime" value="<%=date()%>" placeholder="请选择有效日期">
							</div>
						</div>
					</div>
					<div class="member-card-num">
						<div class="media">
							<div class="media-left media-middle"><div class="time-num-label">卡号：</div></div>
							<div class="media-body">
								<input type="number" name="member-card-uniqnum" placeholder="卡号不可重复">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<footer></footer>
	<script src="/moviehelper/app/Public/jQuery/jquery-2.1.4.min.js"></script>
	<script type="text/javascript">
		$(function () {
			var member = '0';
			var  noneCard= $('.noneCard'),
				 memeberList= $('.has-Member'),
				 memberInfo = $('.member-info'),
				 addNewMember = $('.add-newmember'),
				 addNewmemberCard = $('.add-newmember-card'),
				 levelText ='',
				 title
				;
			function renderMemberList(member) {
				if (member == '' || member == undefined || member == null) {
					noneCard.show();
					title = '等级设置';
				}else if(member === '1'){
					addNewMember.show();
					title = '添加会员';
				}else if(member === '2'){
					addNewmemberCard.show();
					title = '开通会员';
				}else if(member === '3'){
					addNewmemberCard.show();
					title = '开通会员';
				}else {
					memeberList.show();
					title = '会员管理';
				}
				changeTitle(title);
			}
			function changeTitle(title) {
				document.querySelectorAll('title')[0].text = title;
			}
			renderMemberList(member)
			// 处理申请信息
			$('.single-member').on('click',function () {
				var _t = $(this),
					mList = $('.has-Member'),
					info = $('.member-info')
					;
				mList.hide()
				info.show()

			})
			// 通过审核
			$('.pass-apply').on('click',function () {
				var _t = $(this),
					addCard = $('.add-newmember-card'),
					info = $('.member-info')
					;
				info.hide()
				addCard.show()
			})
			$('.pass-decline').on('click',function () {
				var notice = confirm('确认拒绝该申请？');
				if (notice) {
					alert('已拒绝本次申请')
				}else{
					alert('你可接着处理，也可放松放松待会儿再来处理本次申请')
				}
			})
			// 选择会员级别
			$('.card-level').on('click',function () {
				var cardLevel = $('.member-card-level'),
					addCard = $('.member-card-info')
				;
				levelText = $(this).find('.card-level-label').text()
				addCard.hide()
				cardLevel.show()
			})
			// 会员卡级别选择
				$('.member-card-level-cancel').on('click',function () {
					var cardLevel = $('.member-card-level'),
						addCard = $('.member-card-info')
					;
					cardLevel.hide()
					addCard.show()
				})
				$('.member-card-level-save').on('click',function () {
					var cardLevel = $('.member-card-level'),
						addCard = $('.member-card-info'),
						stime = $('input[name="member-card-starttime"]').val(),
						etime = $('input[name="member-card-endtime"]').val(),
						cardNum = $('input[name="member-card-uniqnum"]').val(),
						stopit = true
					;
					if(stime == '' || etime == '' || cardNum == ''){
						stime? "":alert('请选择起始日期')
						etime? "":alert('请选择终止日期')
						cardNum? "":alert('请正确输入卡号')
						return false;
					}
					var memberSign = '<span><span class="member-get-sign">'+cardNum+'</span><span class="member-get-sign">'+stime+'-'+etime+'</span></span>'
					if(levelText === '银牌会员'){
						$('.card-level-silver').find('.card-level-select').find('p span').removeClass("unselect").addClass('getmembernum').html(memberSign)
					}else if(levelText === '普通会员'){
						$('.card-level-normal').find('.card-level-select').find('p span').removeClass("unselect").addClass('getmembernum').html(memberSign)
					}

					cardLevel.hide()
					addCard.show()
				})
			// 会员卡信息保存
				$('.member-card-sign-save').on('click',function () {
					var  mcNum= $('input[name="member-card-number"]').val()
					;
					if(mcNum == ''){
						alert('请输入会员卡号')
						return false;
					}
					addNewmemberCard.hide()
					memeberList.show()
				});
				//取消
				$('.member-card-sign-cacel').on('click',function () {
					addNewmemberCard.hide()
					memberInfo.show()
				});


		})
	</script>
</body>
</html>