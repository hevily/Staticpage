<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="../../js/plugin/jquery_WEUI/lib/weui.min.css">
    <link rel="stylesheet" href="../../js/plugin/jquery_WEUI/css/jquery-weui.min.css">
    <link rel="stylesheet" type="text/css" href="../../css/punk-statistics.css" />
    <title>统计</title>
</head>

<body>
    <div class="container">
        <div class="weui-tab">
            <div class="weui-navbar">
                <a class="weui-navbar__item " href="#tab1">
              日统计
            </a>
                <a class="weui-navbar__item " href="#tab2">
              月统计
            </a>
                <a class="weui-navbar__item weui-bar__item--on" href="#tab3">
              我的
            </a>
            </div>
            <div class="weui-tab__bd">
                <div id="tab1" class="weui-tab__bd-item ">
                    <div class="time-select">
                        <input type="text" class="search-date" value=""><i class="fa fa-angle-down"></i>
                    </div>
                    <div class="cicle-clips">
                        <div class="clip">
                            <div class="left"></div>
                            <div class="right width-none"></div>
                        </div>
                        <div class="num">
                            <div class="align-middle">
                                <div class="all">打卡人数/应到人数</div>
                                <div class="percent"></div>
                                <div class="all"><a href="punk-detail-day.html">打卡明细<i class="fa fa-angle-right" style="margin-left: 5px;"></i></a></div>
                            </div>
                        </div>
                    </div>
                    <div class="weui-flex punk-statistics">
                        <div class="weui-flex__item">
                            <p>3</p>
                            <span>未打卡</span>
                        </div>
                        <div class="weui-flex__item">
                            <p>3</p>
                            <span>迟到</span>
                        </div>
                    </div>
                </div>
                <div id="tab2" class="weui-tab__bd-item ">
                    <div class="weui-panel punked-list-month">
                        <div class="weui-panel__bd">
                            <div class="weui-media-box weui-media-box_small-appmsg">
                                <div class="weui-cells">
                                    <a class="weui-cell weui-cell_access" href="punk-detail-month.html">
                                        <!-- <div class="weui-cell__hd"><img src="../../img/daka.jpg"></div> -->
                                        <div class="weui-cell__bd weui-cell_primary">
                                            <div class="weui-flex">
                                                <div class="weui-flex__item">
                                                    <p>迟到</p>
                                                </div>
                                                <div class="placeholder punk-status">
                                                    <div class="table ">
                                                        <div class="align-middle">
                                                            2人
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <span class="weui-cell__ft"></span>
                                    </a>
                                    <a class="weui-cell weui-cell_access" href="javascript:;">
                                        <!-- <div class="weui-cell__hd"><img src="../../img/daka.jpg"></div> -->
                                        <div class="weui-cell__bd weui-cell_primary">
                                            <div class="weui-flex">
                                                <div class="weui-flex__item">
                                                    <p>早退</p>
                                                </div>
                                                <div class="placeholder punk-status">
                                                    <div class="table ">
                                                        <div class="align-middle">
                                                            0人
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <span class="weui-cell__ft"></span>
                                    </a>
                                    <a class="weui-cell weui-cell_access" href="javascript:;">
                                        <!-- <div class="weui-cell__hd"><img src="../../img/daka.jpg"></div> -->
                                        <div class="weui-cell__bd weui-cell_primary">
                                            <div class="weui-flex">
                                                <div class="weui-flex__item">
                                                    <p>缺卡</p>
                                                </div>
                                                <div class="placeholder punk-status">
                                                    <div class="table ">
                                                        <div class="align-middle">
                                                            3人
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <span class="weui-cell__ft"></span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="tab3" class="weui-tab__bd-item weui-tab__bd-item--active">
                    <!-- <iframe src="./punk-detail-usr.html" frameborder="0" width="100%" height="100%"></iframe> -->
                    <div class="owner-punk-info">
                        <div class="looked-date">
                            <input type="text" class="select-looked-date" value="">
                            <i class="fa fa-angle-down"></i>
                        </div>
                        <div class="weui-flex">
                            <div class="weui-flex__item">
                                <div class="weui-panel usr-logo-name">
                                    <div class="weui-panel__bd">
                                        <a href="javascript:void(0);" class="weui-media-box weui-media-box_appmsg">
                                            <div class="weui-media-box__hd">
                                                <img class="weui-media-box__thumb" src="../../img/qiandao.jpg">
                                            </div>
                                            <div class="weui-media-box__bd">
                                                <h4 class="weui-media-box__title">用户名称</h4>
                                                <p class="weui-media-box__desc">
                                                    考勤组:考勤组名称
                                                </p>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="punk-calendar-entrance">
                                <div class="table">
                                    <div class="align-middle">
                                        <i class="fa fa-calendar"></i> 打卡月历
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="punked-month-info">
                        <div class="weui-cells">
                            <a class="weui-cell weui-cell_access" href="javascript:;">
                                <div class="weui-cell__bd">
                                    <p>出勤天数</p>
                                </div>
                                <div class="weui-cell__ft">
                                    2天
                                </div>
                            </a>
                            <div class="punk-item-detail">
                                <ul>
                                    <li>
                                        <p class="man-day">
                                            2018-04-19 （星期四）
                                        </p>
                                    </li>
                                    <li>
                                        <p class="man-day">
                                            2018-04-20 （星期五）
                                        </p>
                                    </li>
                                    <li>
                                        <p class="man-day">
                                            2018-04-21 （星期六）
                                        </p>
                                    </li>
                                    <li>
                                        <p class="man-day">
                                            2018-04-22 （星期日）
                                        </p>
                                    </li>
                                    <li>
                                        <p class="man-day">
                                            2018-04-23 （星期一）
                                        </p>
                                    </li>
                                </ul>
                            </div>
                            <a class="weui-cell weui-cell_access" href="javascript:;">
                                <div class="weui-cell__bd">
                                    <p>休息天数</p>
                                </div>
                                <div class="weui-cell__ft">
                                    2天
                                </div>
                            </a>
                            <a class="weui-cell weui-cell_access" href="javascript:;">
                                <div class="weui-cell__bd">
                                    <p>迟到</p>
                                </div>
                                <div class="weui-cell__ft">
                                    9次
                                </div>
                            </a>
                            <div class="punk-item-detail">
                                <ul>
                                    <li>
                                        <p class="man-day">
                                            2018-04-19 （星期四）
                                        </p>
                                        <p class="day-desc"> 迟到20分钟</p>
                                    </li>
                                    <li>
                                        <p class="man-day">
                                            2018-04-20 （星期五）
                                        </p>
                                        <p class="day-desc"> 迟到20分钟</p>
                                    </li>
                                    <li>
                                        <p class="man-day">
                                            2018-04-21 （星期六）
                                        </p>
                                        <p class="day-desc"> 迟到20分钟</p>
                                    </li>
                                    <li>
                                        <p class="man-day">
                                            2018-04-22 （星期日）
                                        </p>
                                        <p class="day-desc"> 迟到20分钟</p>
                                    </li>
                                    <li>
                                        <p class="man-day">
                                            2018-04-23 （星期一）
                                        </p>
                                        <p class="day-desc"> 迟到20分钟</p>
                                    </li>
                                </ul>
                            </div>
                            <a class="weui-cell weui-cell_access" href="javascript:;">
                                <div class="weui-cell__bd">
                                    <p>早退</p>
                                </div>
                                <div class="weui-cell__ft">
                                    1次，共00分钟
                                </div>
                            </a>
                            <a class="weui-cell weui-cell_access" href="javascript:;">
                                <div class="weui-cell__bd">
                                    <p>缺卡</p>
                                </div>
                                <div class="weui-cell__ft">
                                    0次
                                </div>
                            </a>
                            <a class="weui-cell weui-cell_access" href="javascript:;">
                                <div class="weui-cell__bd">
                                    <p>旷工</p>
                                </div>
                                <div class="weui-cell__ft">
                                    2天
                                </div>
                            </a>
                            <a class="weui-cell weui-cell_access" href="javascript:;">
                                <div class="weui-cell__bd">
                                    <p>外勤</p>
                                </div>
                                <div class="weui-cell__ft">
                                    0次
                                </div>
                            </a>
                            <a class="weui-cell weui-cell_access" href="javascript:;">
                                <div class="weui-cell__bd">
                                    <p>加班</p>
                                </div>
                                <div class="weui-cell__ft">
                                    0小时
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- jQuery 2.1.4 -->
    <!-- <script src="https://staticcdn.yshjie.com/cdn/librarypath/jquery/jquery-2.1.4.min.js"></script> -->
    <script src="/moviehelper/app/Public/jQuery/jquery-2.1.4.min.js"></script>
    <script src="../../js/plugin/jquery_WEUI/js/jquery-weui.min.js"></script>
    <!-- 如果使用了某些拓展插件还需要额外的JS -->
    <script src="../../js/plugin/jquery_WEUI/lib/fastclick.js"></script>
    <script src="../../js/plugin/jquery_WEUI/js/city-picker.min.js"></script>
    <!-- statics  -->
    <script src="https://shop.yshjie.com/statichtml/bjmovie01/estores/Public/js/storecommon.js"></script>
    <script type="text/javascript" src="/statichtml/bjmovie01/estores/Home/JSLang?v=1.1"></script>
    <!-- usr -->
    <script>
    $(function() {
        function getCurrentDate(split) {
            let date = new Date(),
                Y = date.getFullYear(),
                M = addZero(date.getMonth() + 1),
                D = addZero(date.getDate());
            split === undefined ?
                split = '-' :
                ''

            function addZero(num) {
                num > 10 ?
                    num = num :
                    num = '0' + num
                return num
            }
            return Y + split + M + split + D
        }
        $('.search-date').val(getCurrentDate());
        $(".search-date").calendar();

        /**
         * [cicleClips 整体百分比占比 圆圈显示]
         * @param  {[type]} current [实际数量]
         * @param  {[type]} all     [总体数量]
         * @return {[type]}         [ int]
         */
        function cicleClips(current, all) {
            let clip = document.querySelector('.cicle-clips .clip'),
                left = document.querySelector('.left'),
                right = document.querySelector('.right'),
                per = document.querySelector('.percent'),
                rotate = 0,
                percent = current / all * 100;
            per.innerHTML = current + '/' + all;
            let loop = setInterval(() => {
                if (rotate >= 100) {
                    rotate = 0;
                    right.classList.add('width-none');
                    clip.classList.remove('auto');
                } else if (rotate > 50) {
                    right.classList.remove('width-none');
                    clip.classList.add('auto');
                }
                if (rotate >= percent) clearInterval(loop);
                rotate++;
                left.style.transform = 'rotate(' + 3.6 * rotate + 'deg)';
                // per.innerHTML = `${rotate}%`
            }, 25)
        }
        var clips = new cicleClips(4, 6);

        // 初始化可查看月份
        (function() {
            var date = new Date(),
                Y = date.getFullYear(),
                M = addZero(date.getMonth() + 1)

            function addZero(num) {
                num > 10 ?
                    num = num :
                    num = '0' + num
                return num
            }
            $('.select-looked-date').val(Y + '.' + M);
        })()
        $('.select-looked-date').picker({
            title: "选择将要查看的月份",
            cols: [{
                textAlign: 'center',
                values: ['2018.04', '2018.03', '2018.02', '2018.01', '2017.12', '2017.11', '2017.10', '2017.09'],
                displayValues: ['2018年04月', '2018年03月', '2018年02月', '2018年01月', '2017年12月', '2017年11月', '2017年10月', '2017年09月']
            }]
        })
    })
    </script>
</body>

</html>