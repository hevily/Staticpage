<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <link rel="stylesheet" type="text/css" href="../css/relocation.css">
	<title>重新定位</title>
</head>
<body>
	<header></header>
	<div class="container">
		<div class="section " id="maphere">
			地图
		</div>
		<div class="section " id="container">
			
		</div>
		<div class="section location-info">
			<div class="my-location">
				<p>
					<span class="location-add">我的位置</span>
					（在 <span class="blue"> 考勤范围 </span><span class="in-out-location">内</span>）
				</p>
				<p>
					<span class="location-status">正常/超出范围</span>
					<span class="location-details-info">
						 北京市朝阳区南磨房镇南磨房地区个人出租房屋税款代征点金隅·大成国际中心
					</span>
				</p>
			</div>
			<div class="location-punk-now">
				<span class="time-now">00:00:00</span>
				<span>正常打卡</span>
			</div>


		</div>
	</div>
	<footer></footer>
	<!-- jQuery 2.1.4 -->
	<!-- <script src="https://staticcdn.yshjie.com/cdn/librarypath/jquery/jquery-2.1.4.min.js"></script> -->
	<script src="/moviehelper/app/Public/jQuery/jquery-2.1.4.min.js"></script>
	<!-- statistics  -->
	 <!-- <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=KxwmVql6c8ODTmif1PTbc6qIGBgl6hn8"></script> -->

<!-- 	<script>
		var map = new BMap.Map("maphere");
		// 创建地图实例  
		var point = new BMap.Point(116.404, 39.915);
		// 创建点坐标  
		map.centerAndZoom(point, 15);
	</script> -->

	<script type="text/javascript" src="https://webapi.amap.com/maps?v=1.4.0&key=775f9b46c2ae55ce5e239ead400c40da"></script>
	<script type="text/javascript">
		// 116.485 - 116.497
		// 39.8962 - 39.9035
		
		var point = [116.488,39.899]
	        var map = new AMap.Map('maphere',{
	            resizeEnable: true,
	            zoom: 14
	            // ,center: point
	        });
	        AMap.plugin(['AMap.ToolBar','AMap.OverView','AMap.Geolocation'],function(){
	            //创建并添加工具条控件
	            var toolBar = new AMap.ToolBar();
	            var overView = new AMap.OverView();
	            var geolocation = new AMap.Geolocation();
	            map.addControl(toolBar);
	            map.addControl(overView);
	            map.addControl(geolocation);
	            //创建高级信息窗体并在指定位置打开
	            var infowindow = new AMap.AdvancedInfoWindow({
	              content: '<div class="info-title">高德地图</div><div class="info-content">'+
	                    '<img src="http://webapi.amap.com/images/amap.jpg">'+
	                    '高德是中国领先的数字地图内容、导航和位置服务解决方案提供商。<br>'+
	                    '<a target="_blank" href="http://mobile.amap.com/">点击下载高德地图</a></div>',
	              offset: new AMap.Pixel(0, -30)
	            });
	            // infowindow.open(map,[116.480983, 39.989628]);
	        })
	        // 设置公司位置标记 和 文字
	        var marker = new AMap.Marker({ //添加自定义点标记
	            map: map,
	            position: point, //基点位置
	            offset: new AMap.Pixel(-17, -42), //相对于基点的偏移位置
	            draggable: true,  //是否可拖动
	            content: '<div class="marker-route marker-marker-bus-from" style="color:red;">公司</div>'   //自定义点标记覆盖物内容
	        });
	        function addMarker() {
               marker = new AMap.Marker({
                   icon: "http://webapi.amap.com/theme/v1.3/markers/n/mark_b.png",
                   position: point
               });
               marker.setMap(map);
           }
	        addMarker()
	        // 设置打卡有效区域
	        var circle = new AMap.Circle({
	               center: new AMap.LngLat(point[0],point[1]),// 圆心位置
	               radius: 500, //半径
	               strokeColor: "blue", //线颜色
	               strokeOpacity: 1, //线透明度
	               strokeWeight: 1, //线粗细度
	               fillColor: "blue", //填充颜色
	               fillOpacity: 0.15//填充透明度
	           });
	           circle.setMap(map);
	           $('.amap-geo').click()
	    </script>
	    <script>
	    	function updateTime(goal) {
	    		var goal = $(goal);
	    		setInterval(function () {
	    			var time = new Date();
	    			var h = time.getHours();
	    			var mm = time.getMinutes();
	    			var s = time.getSeconds()
	    			function add0(num) {
	    				return (num<10)?'0'+num:num;
	    			}
	    			goal.text(add0(h)+':'+add0(mm)+':'+add0(s));
	    		},1000)
	    	}
	    	updateTime('.time-now');
	    </script>
</body>
</html>