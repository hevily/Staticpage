<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <script src="../../../Frame/jQuery/jquery-2.1.3.min.js"></script>
    <style>
        .add_list{
            max-width:640px;
            border-spacing: 0;
            border-collapse: collapse;
            text-align: center;
            width: 100%;
            color: rgb(122,122,122);
        }
        .add_list tr, .add_list th, .add_list td {
            height: 25px;
            border: 1px solid #cfcfcf;
        }
        .add_list caption{
            text-align: left;
            text-align: -webkit-left;/*for chrome safari*/
            margin-bottom:5px;
        }
        .add_list caption span{
            color: #797979;
        }
        .add_list th{
            background-color: #e7e7e7;
            color: #b2b2b2;
            min-width: 70px;
        }
        .subject,.subject-children{
            width: 100%;
            height: 100%;
            padding-left: 0;
            border: none;
            border-radius: 0;
            cursor: pointer;
        }
        .input-cash{
            /*text-align: left;*/
            /*padding: 0px;*/
        }
       .input-cash input{
           /*margin-left: 0px;*/
           width: 80%;
           /*height: 100%;*/
           /*border: none;*/

       }
    </style>
    <title></title>
</head>
<body>
<table class="add_list">
    <caption>ID:16&nbsp;报销项目申请人：<span>刘刈润</span></caption>
    <tr>
        <th>科目分类</th>
        <th>子科目分类</th>
        <th>报销金额(元)</th>
    </tr>
    <tr>
        <td>演员劳务费用</td>
        <td>金巧巧金巧巧</td>
        <td>10,000,000.00</td>
    </tr>
    <tr>
        <td>
            <select class="subject">
                <option>演员劳务费用</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
        </td>
        <td>
            <select class="subject-children">
                <option>1</option>
                <option>演员劳务费用</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
        </td>
        <td><span>99,999,999.00</span></td>
    </tr>
</table>
<hr/>
<!---->
<table class="add_list">
    <caption>出纳付款方式（请选择借款或者现金）&nbsp;单位：元</caption>
    <tr>

        <th>借款金额</th>
        <th>能否冲抵</th>
        <th>报销金额</th>
        <th>操作</th>
    </tr>
    <tr>
        <td id="borrowed">9,000.00</td>
        <td>冲抵</td>
        <td id="apply">1,000,001.00</td>
        <td>借款<input type="radio" name="check-pay" value="bill"/></td>
    </tr>
    <tr>
        <td>1,000,000.00</td>
        <td>现金付款</td>
        <td class="input-cash"><input  id="cash_input" type="text" /></td>
        <td>现金<input type="radio" name="check-pay" value="cash"/></td>
    </tr>
</table>
<input type="button" value="保存" onclick="check()"/>
<!--<input type="button" value="字符转换" onclick="forbiddenSelect()"/>-->

<script>
    function check(){
        var checked=document.getElementsByName("check-pay").value;
        var str=document.getElementById("cash_input").value;
        if(checked="cash"){
            if(str!=""){
                console.log(str);
                if(str>0 &&str<999999999999999999999){
                    alert("正在保存");
                }else alert("请输入正确的金额");
            }else alert("请输入支付金额");
        }
        }
    function forbiddenSelect(){
        var borrowed=$("#borrowed").text(),
            apply=$("#apply").text(),
            iBorrowed=Number(borrowed.replace(/,/g,"")),
            iApply=Number(apply.replace(/,/g,""));
//        alert(borrowed+":"+apply);
//        alert(Number(borrowed.replace(/,/g,""))+":"+Number(apply.replace(/,/g,"")));
        if(iBorrowed<iApply){
            console.log(iBorrowed-iApply+"借款金额不足以抵消报销金额");
            document.getElementsByName("check-pay")[0].disabled   = true;
            document.getElementsByName("check-pay")[1].checked="checked";
        }else console.log("借款金额足以抵消报销金额 抵销一部分后还欠"+(iBorrowed-iApply));
    }
    setTimeout('forbiddenSelect()',1000);

</script>

</body>
</html>